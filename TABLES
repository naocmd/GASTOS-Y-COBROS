USE GASTOS;
CREATE TABLE GASTOS (
ID_GASTOS INT AUTO_INCREMENT PRIMARY KEY,
FECHA DATE NOT NULL,
ID_CATEGORIA INT NOT NULL,
CONCEPTO VARCHAR(100),
IMPORTE DECIMAL(8,2) NOT NULL,
METODOPAGO VARCHAR(20),
TIPOGASTO VARCHAR(20),
CONSTRAINT FK_GASTOS_CATEGORIA FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIAS(ID_CATEGORIA),
CONSTRAINT CK_TIPOGASTO CHECK (TIPOGASTO IN ('FIJO', 'VARIABLE')),
CONSTRAINT CK_METODOPAGO CHECK (METODOPAGO IN ('EFECTIVO', 'TARJETA'))
);

CREATE TABLE INGRESOS (
ID_INGRESO INT AUTO_INCREMENT PRIMARY KEY,
FECHA DATE NOT NULL,
ID_FUENTEINGRESO INT NOT NULL,
CONCEPTO VARCHAR(100),
IMPORTE DECIMAL (8,2) NOT NULL,
METODOPAGO VARCHAR(20),
TIPOPAGO VARCHAR (20),
CONSTRAINT FK_FUENTEINGRESOS_INGRESOS FOREIGN KEY (ID_FUENTEINGRESO) REFERENCES FUENTEINGRESOS(ID_INGRESO),
CONSTRAINT CK_TIPOPAGO CHECK (TIPOPAGO IN ('FIJO', 'VARIABLE')),
CONSTRAINT CK_METODOPAGO_INGRESOS CHECK (METODOPAGO IN ('EFECTIVO', 'TARJETA'))
);

CREATE TABLE PRESUPUESTO (
FECHA DATE NOT NULL,
ID_CATEGORIA INT NOT NULL,
PRESUPUESTOMENSUAL DECIMAL(8,2),
CONSTRAINT FK_ID_CATEGORIA_PRESUPUESTO FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIAS(ID_CATEGORIA)

);

CREATE TABLE FUENTEINGRESOS (
ID_INGRESO INT PRIMARY KEY AUTO_INCREMENT,
NOMBREINGRESO VARCHAR(50) NOT NULL,
TIPOFUENTE VARCHAR(20),
CONSTRAINT CK_TIPOFUENTE CHECK (TIPOFUENTE IN ('FIJO', 'EXTRA'))
);

CREATE TABLE CATEGORIAS (
ID_CATEGORIA INT PRIMARY KEY AUTO_INCREMENT,
NOMBRECATEGORIA VARCHAR(50) NOT NULL
);

INSERT INTO GASTOS (FECHA, ID_CATEGORIA, CONCEPTO, IMPORTE, METODOPAGO, TIPOGASTO) 
VALUES ('2025-09-04',1,'TRANSFERENCIA', 200, 'TARJETA', 'VARIABLE'),
('2025-09-15',2,'COLONIA', 72, 'TARJETA', 'VARIABLE'),
('2025-09-15',4,'CHANDAL PUMA AZUL', 19.99, 'TARJETA', 'VARIABLE'),
('2025-09-15',5,'LENTILLASBARATAS.COM', 53.80, 'TARJETA', 'FIJO'),
('2025-09-16',4,'PANTALON ADIDAS VINTED', 36.65, 'TARJETA', 'VARIABLE'),
('2025-09-17',5,'PSICOLOGO', 60, 'TARJETA', 'FIJO'),
('2025-09-18',6,'BONO', 10, 'TARJETA', 'FIJO'),
('2025-09-23',7,'BUBBLE TEA', 5, 'TARJETA', 'VARIABLE'),

